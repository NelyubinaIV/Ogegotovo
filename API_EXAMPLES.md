# üîå API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

–ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–æ—Ä—Ç–∞–ª–∞ –û–ì–≠ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏.

## üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: Redirect —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ URL

–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –Ω–∞ –≤–Ω–µ—à–Ω–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ (Google Forms, Quizizz, etc.) –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å—Ç–µ —É—á–µ–Ω–∏–∫–∞ –Ω–∞:

```
https://–≤–∞—à-—Å–∞–π—Ç.com/result?token=ABCD-1234&lessonId=1&taskId=l1-t1&score=8&max=10&passed=true&mistakes=ORTH_PRE_PRI,PUNCT_SSP
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `token` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî —Ç–æ–∫–µ–Ω —É—á–µ–Ω–∏–∫–∞
- `lessonId` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî ID —É—Ä–æ–∫–∞ (1-10)
- `taskId` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî ID –∑–∞–¥–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, l1-t1)
- `score` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –±–∞–ª–ª—ã
- `max` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –±–∞–ª–ª—ã
- `passed` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî true/false, –ø—Ä–æ–π–¥–µ–Ω–æ –ª–∏ –∑–∞–¥–∞–Ω–∏–µ
- `mistakes` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Å–ø–∏—Å–æ–∫ ID –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
- `source` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "google_forms")
- `notes` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –∑–∞–º–µ—Ç–∫–∏ (URL-encoded)

**–ü—Ä–∏–º–µ—Ä:**
```
https://oge-portal.com/result?token=IVAN-2025&lessonId=2&taskId=l2-t1&score=15&max=20&passed=true&mistakes=ORTH_PRE_PRI,ORTH_N_NN&source=google_forms
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: PostMessage API (–¥–ª—è iframe)

–ï—Å–ª–∏ —Ç–µ—Å—Ç –≤—Å—Ç—Ä–æ–µ–Ω –≤ iframe –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ:

```javascript
// –í –∫–æ–¥–µ —Ç–µ—Å—Ç–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
window.parent.postMessage({
  type: 'oge_result',
  data: {
    token: 'ABCD-1234',
    lessonId: '1',
    taskId: 'l1-t1',
    score: 8,
    max: 10,
    passed: true,
    mistakes: ['ORTH_PRE_PRI', 'PUNCT_SSP'],
    source: 'custom_quiz'
  }
}, '*');
```

## üìä Google Forms –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–æ—Ä–º—É
1. –°–æ–∑–¥–∞–π—Ç–µ Google Form —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ñ–æ—Ä–º—ã ‚Üí "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è"
3. –í–∫–ª—é—á–∏—Ç–µ "–ü–æ–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥—Ä—É–≥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞"

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ HTML:

```html
–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {score}/{max}

<a href="https://–≤–∞—à-—Å–∞–π—Ç.com/result?token={TOKEN}&lessonId=1&taskId=l1-t1&score={score}&max={max}&passed=true&source=google_forms">
  –ù–∞–∂–º–∏—Ç–µ –∑–¥–µ—Å—å, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–µ—Ç–∫–∏ üç¨
</a>
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `{TOKEN}` –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω —É—á–µ–Ω–∏–∫–∞.

### –®–∞–≥ 3: –î–ª—è –º–∞—Å—Å–æ–≤–æ–π —Ä–∞–∑–¥–∞—á–∏
–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ–æ—Ä–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞ —Å –µ–≥–æ —Ç–æ–∫–µ–Ω–æ–º –≤ —Å—Å—ã–ª–∫–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

## üéÆ Quizizz –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

Quizizz –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä—è–º—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, –Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã —É—á–µ–Ω–∏–∫ –≤–∏–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
2. –°–∫—Ä–∏–Ω—à–æ—Ç–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
3. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —É—Ä–æ–∫ ‚Üí –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–±—Ä–∞—Ç—å –∫–æ–Ω—Ñ–µ—Ç–∫—É"
4. –í–≤–æ–¥–∏—Ç –±–∞–ª–ª—ã –∏ –æ—Ç–º–µ—á–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤—Ä—É—á–Ω—É—é
5. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç

## üìã Kahoot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Quizizz ‚Äî —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Kahoot –¥–ª—è live-–∑–∞–Ω—è—Ç–∏–π, –∞ –¥–ª—è –¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç—ã ‚Äî Google Forms —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º.

## üîó –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ç–µ—Å—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π webhook

–ï—Å–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç webhook (–Ω–∞–ø—Ä–∏–º–µ—Ä, Typeform, SurveyMonkey), –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É –Ω–∞ –≤–∞—à backend:

```
POST https://–≤–∞—à-backend.com/api/result
{
  "student_token": "ABCD-1234",
  "lesson_id": "1",
  "task_id": "l1-t1",
  "score": 8,
  "max_score": 10,
  "mistakes": ["ORTH_PRE_PRI"]
}
```

Backend –∑–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Supabase.

## üõ†Ô∏è –ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### JavaScript –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –Ω–∞ –ª—é–±–æ–π —Å–∞–π—Ç

```html
<!DOCTYPE html>
<html>
<head>
  <title>–¢–µ—Å—Ç –û–ì–≠</title>
</head>
<body>
  <div id="quiz">
    <!-- –í–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –∑–¥–µ—Å—å -->
  </div>
  
  <script>
    // –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
    function submitResult() {
      const studentToken = localStorage.getItem('oge_student_token');
      
      if (!studentToken) {
        alert('–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –Ω–∞ –ø–æ—Ä—Ç–∞–ª –û–ì–≠!');
        return;
      }
      
      const result = {
        score: calculateScore(), // –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è
        max: 20,
        passed: true,
        mistakes: getSelectedMistakes() // –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è
      };
      
      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –ø–æ—Ä—Ç–∞–ª
      const url = `https://–≤–∞—à-—Å–∞–π—Ç.com/result?token=${studentToken}&lessonId=1&taskId=l1-t1&score=${result.score}&max=${result.max}&passed=${result.passed}&mistakes=${result.mistakes.join(',')}`;
      
      window.location.href = url;
    }
  </script>
</body>
</html>
```

## üì± –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤:

```swift
// Swift (iOS)
let token = UserDefaults.standard.string(forKey: "oge_token")
let urlString = "https://–≤–∞—à-—Å–∞–π—Ç.com/result?token=\\(token)&lessonId=1&taskId=l1-t1&score=8&max=10&passed=true"

if let url = URL(string: urlString) {
  UIApplication.shared.open(url)
}
```

```kotlin
// Kotlin (Android)
val token = sharedPreferences.getString("oge_token", "")
val url = "https://–≤–∞—à-—Å–∞–π—Ç.com/result?token=$token&lessonId=1&taskId=l1-t1&score=8&max=10&passed=true"

val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))
startActivity(intent)
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —É—á–∏—Ç–µ–ª—è
1. **Google Forms** ‚Äî –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
2. **–ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏** ‚Äî —Ä–∞–±–æ—Ç–∞—é—Ç –≤–µ–∑–¥–µ, –ø—Ä–æ—Å—Ç—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
3. **–†—É—á–Ω–æ–π –≤–≤–æ–¥** ‚Äî –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç, –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Å—ã–ª–∫–∞—Ö (—Ç–æ–ª—å–∫–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS
- –í production —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥–ø–∏—Å—å —Ç–æ–∫–µ–Ω–æ–≤ (JWT)

### –í–∞–ª–∏–¥–∞—Ü–∏—è
–ü–æ—Ä—Ç–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å lessonId –∏ taskId
- ‚úÖ –î–∏–∞–ø–∞–∑–æ–Ω –±–∞–ª–ª–æ–≤ (0-max)
- ‚úÖ –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å ID –æ—à–∏–±–æ–∫

## üîÆ –ë—É–¥—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—Å Supabase)

### REST API
```
POST /api/v1/results
Authorization: Bearer {teacher_token}
Content-Type: application/json

{
  "student_token": "ABCD-1234",
  "lesson_id": 1,
  "task_id": "l1-t1",
  "score": 8,
  "max_score": 10,
  "passed": true,
  "mistakes": ["ORTH_PRE_PRI", "PUNCT_SSP"],
  "notes": "–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞!",
  "source": "custom_platform"
}
```

### Webhook –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```
POST https://–≤–∞—à-–ø–æ—Ä—Ç–∞–ª.com/webhook/result
X-Webhook-Secret: your-secret-key

{
  "event": "quiz_completed",
  "student_email": "student@example.com",
  "quiz_id": "lesson-1-task-1",
  "score": 8,
  "max_score": 10
}
```

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π? –ù–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É!**
